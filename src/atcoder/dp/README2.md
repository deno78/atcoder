---
marp: true
---

# DP 動的計画法を解く(2)

ナップサック問題

---

# はじめに
前回やったDPを活用してナップサック問題と言われる問題を解いていきます。
ナップサック問題とは、容量が決まったナップサックに、重さが異なる荷物を極力たくさん詰め込む方法を考える問題です。

---

# 基本的な考え方
詰め込む商品の種類を横軸、詰め込んだ場合の容量を縦軸、得られる価値の合計をセルの値に設定していきます。

ある品物X(重さW,価値V)を選ぶかどうか＋既に重さY分の荷物を持っている場合、

ひとつ前の状態の品物選択中の重さY-Wの価値に価値Vを足しただけの価値、になります。

dp[X][Y] = max(dp[X-1][Y-W]+V,dp[X][Y])

のような式で表現できます。

---

# D - Knapsack 1

N 個の品物があります。 品物には 1,2,…,N と番号が振られています。 
各 i (1≤i≤N) について、品物 i の重さは w i で、価値は v i です。

太郎君は、N 個の品物のうちいくつかを選び、ナップサックに入れて持ち帰ることにしました。 
ナップサックの容量は W であり、持ち帰る品物の重さの総和は W 以下でなければなりません。

太郎君が持ち帰る品物の価値の総和の最大値を求めてください。

---

# D - Knapsack 1

メモを(品数N) x (重さW)の二次元配列で作成する。
各品を選ぶかどうか、と、その時点での重さの累計を記録していく。

各品の各重さについて、

品iを持つと、状態i+1の重さw_iに価値v_iを足す。

品iを持たない場合、状態i+1,重さjの価値をそのまま移行する。

